# encoding=utf-8
import time 
import sys
import pandas as pd
from pandas.tseries.offsets import BDay

trade_days = [
            "2018-12-24",
            "2018-12-25",
            "2018-12-26",
            "2018-12-27",
            "2018-12-28",
            "2019-01-02",
            "2019-01-03",
            "2019-01-04",
            "2019-01-07",
            "2019-01-08",
            "2019-01-09",
            "2019-01-10",
            "2019-01-11",
            "2019-01-14",
            "2019-01-15",
            "2019-01-16",
            "2019-01-17",
            "2019-01-18",
            "2019-01-22",
            "2019-01-23",
            "2019-01-24",
            "2019-01-25",
            "2019-01-28",
            "2019-01-29",
            "2019-01-30",
            "2019-01-31",
            "2019-02-01",
            "2019-02-11",
            "2019-02-12",
            "2019-02-13",
            "2019-02-14",
            "2019-02-15",
            "2019-02-18",
            "2019-02-19",
            "2019-02-20",
            "2019-02-21",
            "2019-02-22",
            "2019-02-25",
            "2019-02-26",
            "2019-02-27",
            "2019-02-28",
            "2019-03-01",
            "2019-03-04",
            "2019-03-05",
            "2019-03-06",
            "2019-03-07",
            "2019-03-08",
            "2019-03-11",
            "2019-03-12",
            "2019-03-13",
            "2019-03-14",
            "2019-03-15",
            "2019-03-18",
            "2019-03-19",
            "2019-03-20",
            "2019-03-21",
            "2019-03-22",
            "2019-03-25",
            "2019-03-26",
            "2019-03-27",
            "2019-03-28",
            "2019-03-29",
            "2019-04-01",
            "2019-04-02",
            "2019-04-03",
            "2019-04-04",
            "2019-04-08",
            "2019-04-09",
            "2019-04-10",
            "2019-04-11",
            "2019-04-12",
            "2019-04-15",
            "2019-04-16",
            "2019-04-17",
            "2019-04-18",
            "2019-04-19",
            "2019-04-22",
            "2019-04-23",
            "2019-04-24",
            "2019-04-25",
            "2019-04-26",
            "2019-04-29",
            "2019-04-30",
            "2019-05-02",
            "2019-05-03",
            "2019-05-06",
            "2019-05-07",
            "2019-05-08",
            "2019-05-09",
            "2019-05-10",
            "2019-05-13",
            "2019-05-14",
            "2019-05-15",
            "2019-05-16",
            "2019-05-17",
            "2019-05-20",
            "2019-05-21",
            "2019-05-22",
            "2019-05-23",
            "2019-05-24",
            "2019-05-27",
            "2019-05-28",
            "2019-05-29",
            "2019-05-30",
            "2019-05-31",
            "2019-06-03",
            "2019-06-04",
            "2019-06-05",
            "2019-06-06",
            "2019-06-10",
            "2019-06-11",
            "2019-06-12",
            "2019-06-13",
            "2019-06-14",
            "2019-06-17",
            "2019-06-18",
            "2019-06-19",
            "2019-06-20",
            "2019-06-21",
            "2019-06-24",
            "2019-06-25",
            "2019-06-26",
            "2019-06-27",
            "2019-06-28",
            "2019-07-01",
            "2019-07-02",
            "2019-07-03",
            "2019-07-04",
            "2019-07-05",
            "2019-07-08",
            "2019-07-09",
            "2019-07-10",
            "2019-07-11",
            "2019-07-12",
            "2019-07-15",
            "2019-07-16",
            "2019-07-17",
            "2019-07-18",
            "2019-07-19",
            "2019-07-22",
            "2019-07-23",
            "2019-07-24",
            "2019-07-25",
            "2019-07-26",
            "2019-07-29",
            "2019-07-30",
            "2019-07-31",
            "2019-08-01",
            "2019-08-02",
            "2019-08-05",
            "2019-08-06",
            "2019-08-07",
            "2019-08-08",
            "2019-08-09",
            "2019-08-12",
            "2019-08-13",
            "2019-08-14",
            "2019-08-15",
            "2019-08-16",
            "2019-08-19",
            "2019-08-20",
            "2019-08-21",
            "2019-08-22",
            "2019-08-23",
            "2019-08-26",
            "2019-08-27",
            "2019-08-28",
            "2019-08-29",
            "2019-08-30",
            "2019-09-02",
            "2019-09-03",
            "2019-09-04",
            "2019-09-05",
            "2019-09-06",
            "2019-09-09",
            "2019-09-10",
            "2019-09-11",
            "2019-09-12",
            "2019-09-16",
            "2019-09-17",
            "2019-09-18",
            "2019-09-19",
            "2019-09-20",
            "2019-09-23",
            "2019-09-24",
            "2019-09-25",
            "2019-09-26",
            "2019-09-27",
            "2019-09-30",
            "2019-10-08",
            "2019-10-09",
            "2019-10-10",
            "2019-10-11",
            "2019-10-14",
            "2019-10-15",
            "2019-10-16",
            "2019-10-17",
            "2019-10-18",
            "2019-10-21",
            "2019-10-22",
            "2019-10-23",
            "2019-10-24",
            "2019-10-25",
            "2019-10-28",
            "2019-10-29",
            "2019-10-30",
            "2019-10-31",
            "2019-11-01",
            "2019-11-04",
            "2019-11-05",
            "2019-11-06",
            "2019-11-07",
            "2019-11-08",
            "2019-11-11",
            "2019-11-12",
            "2019-11-13",
            "2019-11-14",
            "2019-11-15",
            "2019-11-18",
            "2019-11-19",
            "2019-11-20",
            "2019-11-21",
            "2019-11-22",
            "2019-11-25",
            "2019-11-26",
            "2019-11-27",
            "2019-11-28",
            "2019-11-29",
            "2019-12-02",
            "2019-12-03",
            "2019-12-04",
            "2019-12-05",
            "2019-12-06",
            "2019-12-09",
            "2019-12-10",
            "2019-12-11",
            "2019-12-12",
            "2019-12-13",
            "2019-12-16",
            "2019-12-17",
            "2019-12-18",
            "2019-12-19",
            "2019-12-20",
            "2019-12-23",
            "2019-12-24",
            "2019-12-25",
            "2019-12-26",
            "2019-12-27",
            "2019-12-30",
            '2019-12-31']

#判断是否为交易日
def isTradeDay():
    today = time.strftime('%Y-%m-%d')
    return True if (today in trade_days) else  False


#获取某年所有交易日
def getTradeDays(year):
    list = []
    thismodule = sys.modules[__name__]
    #获取某年所有休市日
    restDays = getattr(thismodule, 'aStock_%s_restDays' % year)()
    for item in pd.date_range('%s-01-01' % year, '%s-12-31' % year, freq=BDay()):
        day = item.date().strftime('%Y-%m-%d')
        if day not in restDays:  #过滤掉休市日
            list.append(day)

    return list 

#2017年A股休市日列表
def aStock_2017_restDays():
    return ['2017-01-01','2017-01-02','2017-01-27','2017-01-28'
            ,'2017-01-29','2017-01-30','2017-01-31','2017-02-01'
            ,'2017-02-02', '2017-04-02', '2017-04-03','2017-04-04'
            ,'2017-04-29','2017-04-30','2017-05-01'
            ,'2017-05-28','2017-05-29','2017-05-30'
            ,'2017-10-01','2017-10-02','2017-10-03','2017-10-04','2017-10-05','2017-10-06','2017-10-07','2017-10-08']



#2018年A股休市日列表
def aStock_2018_restDays():
    return ['2018-01-01'
            ,'2018-02-15','2017-02-16','2018-02-17','2018-02-18','2017-02-19','2018-02-20','2018-02-21'
            ,'2018-04-05','2017-04-06','2018-04-07'
            ,'2018-04-29','2017-04-30','2018-05-01'
            ,'2018-06-16','2017-06-17','2018-06-18'
            ,'2018-09-22','2018-09-23','2018-09-24'
            ,'2018-10-01','2018-10-02','2018-10-03','2018-10-04','2018-10-05','2018-10-06','2018-10-07']

